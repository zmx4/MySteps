def solve_puzzle():
    # 初始状态：箭头指向右上方 (0)
    current_state = 0
    
    # 输入的操作序列
    ops_sequence = "0112233445142015320125410214530214510214102302142025101203201451451522302514203214510021454101002532"
    
    # 定义状态转换表
    # Key 是操作指令 (0-5)
    # Value 是一个字典，映射当前状态到下一个状态
    transitions = {
        # 操作 0: 垂直轴翻转 (|)
        '0': {0: 3, 1: 2, 2: 1, 3: 0},
        
        # 操作 1: 主对角线翻转 (/) (连接左下和右上)
        # 0(右上)和2(左下)在轴上不变，1(右下)和3(左上)互换
        '1': {0: 0, 1: 3, 2: 2, 3: 1},
        
        # 操作 2: 水平轴翻转 (-)
        '2': {0: 1, 1: 0, 2: 3, 3: 2},
        
        # 操作 3: 副对角线翻转 (\) (连接左上和右下)
        # 3(左上)和1(右下)在轴上不变，0(右上)和2(左下)互换
        '3': {0: 2, 1: 1, 2: 0, 3: 3},
        
        # 操作 4: 顺时针旋转 90度
        # 0(右上) -> 1(右下) -> 2(左下) -> 3(左上) -> 0
        '4': {0: 1, 1: 2, 2: 3, 3: 0},
        
        # 操作 5: 逆时针旋转 90度
        # 0(右上) -> 3(左上) -> 2(左下) -> 1(右下) -> 0
        '5': {0: 3, 1: 0, 2: 1, 3: 2}
    }
    
    result = []
    
    # print(f"初始状态: {current_state}")
    
    for op in ops_sequence:
        # 获取对应的转换字典
        mapping = transitions[op]
        # 更新状态
        current_state = mapping[current_state]
        # 记录结果
        result.append(str(current_state))
        
    final_string = "".join(result)
    print(f"{final_string}")

if __name__ == "__main__":
    solve_puzzle()